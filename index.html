<!DOCTYPE html>
<html lang="pt-br">
  <head>
   
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Olá, mundo!</title>
  </head>
  <body>

<div class="container"> 

<div id="bitcoin">
    <div class="card text-center mb-3 mt-3">
	  
	<div class="card-header">
	    <p> Bitcoin </p>
	  </div>
	  
	<div class="card-body">
          <dd> Preço: {{ dadosBTC.precoBTC }} </dd>
          <dd> Código: BTC </dd>
          <dd> Descrição: United States Dollar </dd>
    	  <button type="button" class="btn btn-info" @click.prevent="buscaBTC()"> Atualizar Preço </button>
    	</div>

	<div class="card-footer text-muted">
	    <dd> {{ dadosBTC.data }} </dd>
	</div>
</div>

<div class="card text-center mb-3">
	  
	<div class="card-header">
	    <p> Bitcoin </p>
	  </div>
	  
	<div class="card-body">
          <dd> Preço: {{ dadosCNY.precoCNY }} </dd>
          <dd> Código: CNY </dd>
          <dd> Descrição: Chinese Yuan </dd>
    	  <button type="button" class="btn btn-info" @click.prevent="buscaCNY()"> Atualizar Preço </button>
    	</div>

	<div class="card-footer text-muted">
	    <dd> {{ dadosCNY.data }} </dd>
	</div>
</div>

<div class="card text-center mb-3">
	  
	<div class="card-header">
	    <p> Bitcoin </p>
	  </div>
	  
	<div class="card-body">
          <dd> Preço: {{ dadosEGP.precoEGP }} </dd>
          <dd> Código: EGP </dd>
          <dd> Descrição: Egyptian Pound </dd>
    	  <button type="button" class="btn btn-info" @click="buscaEGP()"> Atualizar Preço </button>
    	</div>

	<div class="card-footer text-muted">
	    <dd> {{ dadosEGP.data }} </dd>
	</div>
</div>
</div>
</div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
      const bitcoin = new Vue ({
        el: "#bitcoin",
        data: {
          dadosBTC: {},
          dadosCNY: {},
	  dadosEGP: {},
          precoBTC: 0,
	  precoCNY: 0,
	  precoEGP: 0,
	  dataAtualizada: new Date()
        },
          methods: {
            buscaBTC() {
              const api = 'https://api.coindesk.com/v1/bpi/currentprice.json';
    				axios.get(api).then((response)=>{
    					this.precoBTC = response.data.bpi.USD.rate;
    					this.dadosBTC = {	
    						"precoBTC": this.precoBTC,
						"data": this.dataAtualizada
    					};
    				
				}).catch(( error) =>{
    					console.log('ERR:' + error);
    				})
          },
	   buscaCNY() {
              const api2 = 'https://api.coindesk.com/v1/bpi/currentprice/CNY.json';
    				axios.get(api2).then((response)=>{
    					this.precoCNY = response.data.bpi.CNY.rate;
    					this.dadosCNY = {	
    						"precoCNY": this.precoCNY,
						"data": this.dataAtualizada
    					};
    				
				}).catch(( error) =>{
    					console.log('ERR:' + error);
    				})
          },
	   buscaEGP() {
              const api3 = 'https://api.coindesk.com/v1/bpi/currentprice/EGP.json';
    				axios.get(api3).then((response)=>{
    					this.precoEGP = response.data.bpi.EGP.rate;
    					this.dadosEGP = {	
    						"precoEGP": this.precoEGP,
						"data": this.dataAtualizada
    					};
    				
				}).catch(( error) =>{
    					console.log('ERR:' + error);
    				})
          }				
      	}
      });
    </script>
  </body>
</html>
